@model E_Commerce.MVC.DTOs.productDto.getProductwithImage

@{
    ViewData["Title"] = "Details";
}

<!-- Include Bootstrap CSS -->
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">

<div class="d-sm-flex align-items-center justify-content-between mb-4">
    <h1 class="h3 mb-0 text-gray-800"> Details</h1>
    <a class="btn btn-success btn-lg" asp-action="ProductList">Back to Products List</a>
</div>
<hr />
<div class="container">
    <div class="row">
        <div class="col-md-6">
            <div id="imageCarousel" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner">
                    @foreach (var productimage in Model.images)
                    {
                        <div class="carousel-item @if (Model.images.First() == productimage) {
                    <text>active</text>
 }">
                                    <img src="@productimage" class="d-block w-100" alt="productimage">
                                </div>
                    }
                </div>
                <a class="carousel-control-prev" href="#imageCarousel" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#imageCarousel" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
            <div class="row mt-3">
                @foreach (var productimage in Model.images)
                {
                    <div class="col-md-2">
                        <img src="@productimage" class="img-thumbnail" alt="productimage" onclick="selectImage('@productimage')">
                    </div>
                }
            </div>
        </div>
        <div class="col-md-6">
            <div class="card-body p-0">
                <h1 class=" fw-bolder">@Model.nameEn (@Model.nameAr)</h1>
                <div class="pt-5">
                    <h4 class=""> Description :</h4>
                    <p class="fs-5">@Model.descriptionEn</p>
                    <p class="fs-5">@Model.descriptionAr</p>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="pt-5">
                            <h4 > Color :</h4>
                            <p class="fs-5">@Model.colorEn (@Model.colorAr)</p>
                        </div>
                        <div class="pt-5">
                            <h4 > Price :</h4>
                            <p class="fs-5">@Model.price EPG</p>
                        </div>
                        <div class="pt-5">
                            <h4 > Stock Quantity :</h4>
                            <p class="fs-5">@Model.stockQuantity</p>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="pt-5">
                            <h4 > Rate :</h4>
                            <p class="fs-5">@Model.rating</p>
                        </div>
                        <div class="pt-5">
                            <h4 > Review :</h4>
                            @foreach (var item in Model.reviews)
                            {
                                <p class="fs-5">Price Rating : @item.priceRating</p>
                                <p class="fs-5"> Value Rating : @item.valueRating</p>
                                <p class="fs-5"> Quality Rating :@item.qualityRating</p>
                                <p class="fs-5">Summary : @item.summary</p>
                                <p class="fs-5">Nickname : @item.nickName</p>
                                <p class="fs-5">Review : @item.reviewText</p>
                                <hr />
                            }
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<!-- Include Bootstrap JS -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
    function selectImage(imageUrl) {
        $('#imageCarousel .carousel-item').removeClass('active');
        $('#imageCarousel .carousel-item img[src="' + imageUrl + '"]').closest('.carousel-item').addClass('active');
    }
</script>
